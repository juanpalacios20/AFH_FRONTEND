<p-dialog
  [header]="'Información de la orden: ' + orderWork?.quote?.code"
  [(visible)]="visible"
  [modal]="true"
  [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
  [style]="{ width: '60vw', color: '#2f7d3a' }"
  [draggable]="false"
  [resizable]="false"
  [closable]="true"
  (onHide)="close()"
>
  <p-toast position="top-right"></p-toast>
  <p-confirmdialog></p-confirmdialog>

  <!-- ======= Información del Cliente ======= -->
  <h2 class="serenityBlue font-bold text-xl mb-2">Información del Cliente</h2>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-6 serenityBlue">
    <p>
      <span class="font-semibold">Código:</span>
      {{ orderWork?.quote?.code }}
    </p>
    <p>
      <span class="font-semibold">Cliente:</span>
      {{ orderWork?.quote?.customer?.name }}
    </p>
    <p *ngIf="orderWork?.quote?.construction">
      <span class="font-semibold">Constructora:</span>
      {{ orderWork?.quote?.construction }}
    </p>
    <p>
      <span class="font-semibold">Descripción del trabajo:</span>
      {{ orderWork?.quote?.description }}
    </p>
    <p>
      <span class="font-semibold">Plan de pago:</span>
      {{ orderWork?.quote?.method_of_payment }}
    </p>
  </div>

  <!-- ======= Acciones ======= -->
  <h2 class="serenityBlue font-bold text-xl mb-2">Acciones disponibles</h2>
  <p-button
    fluid="true"
    label="Descargar orden de trabajo"
    icon="pi pi-download"
    styleClass="createButton-lightSerenityGreen w-full mb-4"
    (onClick)="pdfOrderWork()"
    [loading]="loadingDownload"
  ></p-button>

  <!-- ======= Información de la Orden ======= -->
  <h2 class="serenityBlue font-bold text-xl mb-2">Detalles de la Orden</h2>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-6 serenityBlue">
    <p>
      <span class="font-semibold serenityBlue"
        >Descripción de la actividad:</span
      >
      {{ orderWork?.description }}
    </p>
    <p>
      <span class="font-semibold serenityBlue">Lugar de trabajo:</span>
      {{
        orderWork?.workplace === 1
          ? "Instalaciones propias"
          : "Instalaciones del cliente"
      }}
    </p>
    <p>
      <span class="font-semibold serenityBlue">Tipo de actividad:</span>
      {{ orderWork?.activity === 1 ? "Emergencia" : "Programado" }}
    </p>
    <p>
      <span class="font-semibold serenityBlue">Fecha de inicio:</span>
      {{ orderWork?.start_date }}
    </p>
    <p>
      <span class="font-semibold serenityBlue">Fecha de finalización:</span>
      {{ orderWork?.end_date || "No definida" }}
    </p>
  </div>

  <!-- ======= Personal Asignado ======= -->
  <h2 class="serenityBlue font-bold text-xl mb-2">Personal Asignado</h2>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-6 serenityBlue">
    <p>
      <span class="font-semibold">Técnicos:</span>
      {{ orderWork?.number_technicians }}
    </p>
    <p>
      <span class="font-semibold">Oficiales:</span>
      {{ orderWork?.number_officers }}
    </p>
    <p>
      <span class="font-semibold">Auxiliares:</span>
      {{ orderWork?.number_auxiliaries }}
    </p>
    <p>
      <span class="font-semibold">Supervisores:</span>
      {{ orderWork?.number_supervisors }}
    </p>
  </div>
</p-dialog>
